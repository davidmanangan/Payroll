<mat-toolbar color="primary" style="min-width: 850px;">
  <mat-toolbar-row>
    <H1>Employee Salary Management</H1>
  </mat-toolbar-row>
</mat-toolbar>
<br>
<br />

<form [formGroup] = "uploadForm" enctype="multipart/form-data">
<input #fileInput type="file" name="file" style="display: none" (change)="onFileInputChange()" />
<input #submitInput type="submit" style="display: none">
</form>

<div style="padding-left: 20px;">
  <div style="display: flex;">
    <mat-card style="flex: 1 1 auto; max-width: 500px; min-width: 500px;">
      <mat-card-title>Upload Employee Records</mat-card-title>
      <mat-grid-list cols="4" rowHeight="7:1">
        <mat-grid-tile [colspan]="2" [rowspan]="4" >
          <mat-form-field style="min-width: 100%;">
            <input (click)="onChooseFileClick()" value="{{ file?.name }}" 
            placeholder="Choose file"
            required="true"
            matInput>
          </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile [colspan]="4" [rowspan]="3" >
          <button mat-raised-button color="primary" style="margin-left: 10px;min-width: 100px;" (click)="onSubmit()">
            Submit
          </button>
        </mat-grid-tile>
      </mat-grid-list>  
    </mat-card>
    <mat-card style="flex: 1 1 auto;margin-left:10px;max-width: 500px; min-width: 500px;">
      <mat-card-title>Filter List</mat-card-title>
      <mat-grid-list cols="4" rowHeight="7:1">
        <mat-grid-tile [colspan]="2" [rowspan]="4" >
          <mat-form-field style="min-width: 100%;">
            <mat-form-field>
              <mat-label>Min Salary $</mat-label>
              <input [(ngModel)]="minSalary" matInput>
            </mat-form-field>
          </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile [colspan]="2" [rowspan]="4" >
          <mat-form-field style="min-width: 100%;">
            <mat-form-field>
              <mat-label>Max Salary $</mat-label>
              <input  [(ngModel)]="maxSalary" matInput>
            </mat-form-field>
          </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile [colspan]="4" [rowspan]="3" >
          <button mat-raised-button  style="margin-left: 10px;min-width: 100px;" (click)="tableEvent()">
            Apply
          </button>
        </mat-grid-tile>
      </mat-grid-list>        
    </mat-card>
  </div>

  
  <br />
  <div style="padding-left:20px;">
    <H1 class="mat-h1" style="font-style: bold;">Employee List</H1>
    <br/>
    <mat-form-field>
      <mat-label>Order By:</mat-label>
      <mat-select [(ngModel)]="orderBy" (selectionChange)="tableEvent()">
        <mat-option *ngFor="let order of sortOrder" [value]="order.value" >
          {{order.viewValue}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    &nbsp;
    &nbsp;
    <mat-form-field>
      <mat-label>Sort By:</mat-label>
      <mat-select [(ngModel)]="sortBy" (selectionChange)="tableEvent()">
        <mat-option *ngFor="let column of columnNames" [value]="column.value" >
          {{column.viewValue}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <button *ngIf="currentPage > 0" mat-raised-button  style="margin-left: 10px;min-width: 100px;" (click)="onPreviousPageClick()">
      Previous
    </button>
    <button mat-raised-button  style="margin-left: 10px;min-width: 100px;" (click)="onNextPageClick()">
      Next
    </button>
    &nbsp;
    &nbsp;
    <span class="mat-h4">Current Page: {{currentPage + 1}}</span>
    <br />
    <br />
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width:98%; min-width: 800px;">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let request"> {{request.id}} </td>
      </ng-container>
      <ng-container matColumnDef="login">
       <th mat-header-cell *matHeaderCellDef> Login </th>
       <td mat-cell *matCellDef="let request"> {{request.login}} </td>
     </ng-container>
     <ng-container matColumnDef="name">
       <th mat-header-cell *matHeaderCellDef> Name</th>
       <td mat-cell *matCellDef="let request"> {{request.name}} </td>
     </ng-container>
     <ng-container matColumnDef="salary">
       <th mat-header-cell *matHeaderCellDef> Salary </th>
       <td mat-cell *matCellDef="let request"> {{request.salary}} </td>
     </ng-container>
     <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
     <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>  
  </div>
